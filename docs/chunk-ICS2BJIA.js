import{Ba as Q,Ca as Ae,Da as w,Ea as x,Fa as ee,Ha as a,I as Z,Ia as o,Ja as h,K as O,Ka as Fe,L as D,La as v,M as De,Ma as k,N as Y,Na as l,Oa as te,P as C,Pa as ie,Qa as V,Ra as Ee,Ta as we,U as F,V as Ve,W as X,X as f,Za as xe,_a as ne,a as p,aa as L,b as y,ba as be,ca as Me,da as P,fb as Se,gb as Ie,h as ve,ha as J,ia as E,k as _e,p as ye,qa as d,ra as u,ta as K,u as Ce,wa as g}from"./chunk-2C7DZUQU.js";var Re=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(u(K),u(J))}}static{this.\u0275dir=f({type:i})}}return i})(),Be=(()=>{class i extends Re{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=P(i)))(r||i)}})()}static{this.\u0275dir=f({type:i,features:[g]})}}return i})(),ae=new C("");var gt={provide:ae,useExisting:D(()=>W),multi:!0};function vt(){let i=ne()?ne().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var _t=new C(""),W=(()=>{class i extends Re{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vt())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(u(K),u(J),u(_t,8))}}static{this.\u0275dir=f({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&v("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[V([gt]),g]})}}return i})();function _(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Ue(i){return i!=null&&typeof i.length=="number"}var le=new C(""),qe=new C(""),yt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,m=class{static min(t){return Ct(t)}static max(t){return Dt(t)}static required(t){return He(t)}static requiredTrue(t){return Vt(t)}static email(t){return bt(t)}static minLength(t){return Mt(t)}static maxLength(t){return At(t)}static pattern(t){return Ft(t)}static nullValidator(t){return j(t)}static compose(t){return Xe(t)}static composeAsync(t){return Ke(t)}};function Ct(i){return t=>{if(_(t.value)||_(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}function Dt(i){return t=>{if(_(t.value)||_(i))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}function He(i){return _(i.value)?{required:!0}:null}function Vt(i){return i.value===!0?null:{required:!0}}function bt(i){return _(i.value)||yt.test(i.value)?null:{email:!0}}function Mt(i){return t=>_(t.value)||!Ue(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}function At(i){return t=>Ue(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}function Ft(i){if(!i)return j;let t,e;return typeof i=="string"?(e="",i.charAt(0)!=="^"&&(e+="^"),e+=i,i.charAt(i.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(_(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function j(i){return null}function $e(i){return i!=null}function We(i){return we(i)?_e(i):i}function ze(i){let t={};return i.forEach(e=>{t=e!=null?p(p({},t),e):t}),Object.keys(t).length===0?null:t}function Ze(i,t){return t.map(e=>e(i))}function Et(i){return!i.validate}function Ye(i){return i.map(t=>Et(t)?t:e=>t.validate(e))}function Xe(i){if(!i)return null;let t=i.filter($e);return t.length==0?null:function(e){return ze(Ze(e,t))}}function Je(i){return i!=null?Xe(Ye(i)):null}function Ke(i){if(!i)return null;let t=i.filter($e);return t.length==0?null:function(e){let n=Ze(e,t).map(We);return Ce(n).pipe(ye(ze))}}function Qe(i){return i!=null?Ke(Ye(i)):null}function Ne(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function et(i){return i._rawValidators}function tt(i){return i._rawAsyncValidators}function re(i){return i?Array.isArray(i)?i:[i]:[]}function R(i,t){return Array.isArray(i)?i.includes(t):i===t}function Oe(i,t){let e=re(t);return re(i).forEach(r=>{R(e,r)||e.push(r)}),e}function Le(i,t){return re(t).filter(e=>!R(i,e))}var B=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Je(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},M=class extends B{get formDirective(){return null}get path(){return null}},N=class extends B{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},U=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wt={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_i=y(p({},wt),{"[class.ng-submitted]":"isSubmitted"}),it=(()=>{class i extends U{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(u(N,2))}}static{this.\u0275dir=f({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g]})}}return i})(),nt=(()=>{class i extends U{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(u(M,10))}}static{this.\u0275dir=f({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&ee("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g]})}}return i})();var S="VALID",G="INVALID",b="PENDING",I="DISABLED";function ue(i){return(z(i)?i.validators:i)||null}function xt(i){return Array.isArray(i)?Je(i):i||null}function ce(i,t){return(z(t)?t.asyncValidators:i)||null}function St(i){return Array.isArray(i)?Qe(i):i||null}function z(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function rt(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new O(1e3,"");if(!n[e])throw new O(1001,"")}function st(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new O(1002,"")})}var A=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===S}get invalid(){return this.status===G}get pending(){return this.status==b}get disabled(){return this.status===I}get enabled(){return this.status!==I}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Oe(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Oe(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Le(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Le(t,this._rawAsyncValidators))}hasValidator(t){return R(this._rawValidators,t)}hasAsyncValidator(t){return R(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=b,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=I,this.errors=null,this._forEachChild(n=>{n.disable(y(p({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(y(p({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=S,this._forEachChild(n=>{n.enable(y(p({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(y(p({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===S||this.status===b)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?I:S}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=b,this._hasOwnPendingAsyncValidator=!0;let e=We(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new E,this.statusChanges=new E}_calculateStatus(){return this._allControlsDisabled()?I:this.errors?G:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(b)?b:this._anyControlsHaveStatus(G)?G:S}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){z(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=xt(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=St(this._rawAsyncValidators)}},q=class extends A{constructor(t,e,n){super(ue(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){st(this,!0,t),Object.keys(t).forEach(n=>{rt(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var se=class extends q{};var ot=new C("CallSetDisabledState",{providedIn:"root",factory:()=>de}),de="always";function It(i,t){return[...t.path,i]}function Pe(i,t,e=de){he(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Ot(i,t),Pt(i,t),Lt(i,t),Nt(i,t)}function ke(i,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),$(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function H(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Nt(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function he(i,t){let e=et(i);t.validator!==null?i.setValidators(Ne(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=tt(i);t.asyncValidator!==null?i.setAsyncValidators(Ne(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();H(t._rawValidators,r),H(t._rawAsyncValidators,r)}function $(i,t){let e=!1;if(i!==null){if(t.validator!==null){let r=et(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,i.setValidators(s))}}if(t.asyncValidator!==null){let r=tt(i);if(Array.isArray(r)&&r.length>0){let s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,i.setAsyncValidators(s))}}}let n=()=>{};return H(t._rawValidators,n),H(t._rawAsyncValidators,n),e}function Ot(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&at(i,t)})}function Lt(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&at(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function at(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Pt(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function kt(i,t){i==null,he(i,t)}function Gt(i,t){return $(i,t)}function Tt(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function jt(i){return Object.getPrototypeOf(i.constructor)===Be}function Rt(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function Bt(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===W?e=s:jt(s)?n=s:r=s}),r||n||e||null}function Ut(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Ge(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Te(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var T=class extends A{constructor(t=null,e,n){super(ue(e),ce(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),z(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Te(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ge(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ge(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Te(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var qt=i=>i instanceof T;var lt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=f({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return i})(),Ht={provide:ae,useExisting:D(()=>me),multi:!0},me=(()=>{class i extends Be{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=P(i)))(r||i)}})()}static{this.\u0275dir=f({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&v("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[V([Ht]),g]})}}return i})();var ut=new C("");var $t={provide:M,useExisting:D(()=>fe)},fe=(()=>{class i extends M{constructor(e,n,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Pe(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){ke(e.control||null,e,!1),Ut(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,Rt(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(ke(n||null,e),qt(r)&&(Pe(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);kt(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Gt(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){he(this.form,this),this._oldForm&&$(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(n){return new(n||i)(u(le,10),u(qe,10),u(ot,8))}}static{this.\u0275dir=f({type:i,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&v("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:[F.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[V([$t]),g,L]})}}return i})();var Wt={provide:N,useExisting:D(()=>pe)},pe=(()=>{class i extends N{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,n,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new E,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Bt(this,s)}ngOnChanges(e){this._added||this._setUpControl(),Tt(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return It(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(n){return new(n||i)(u(M,13),u(le,10),u(qe,10),u(ae,10),u(ut,8))}}static{this.\u0275dir=f({type:i,selectors:[["","formControlName",""]],inputs:{name:[F.None,"formControlName","name"],isDisabled:[F.None,"disabled","isDisabled"],model:[F.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[V([Wt]),g,L]})}}return i})();var zt=(()=>{class i{constructor(){this._validator=j}ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):j,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=f({type:i,features:[L]})}}return i})();var Zt={provide:le,useExisting:D(()=>ge),multi:!0};var ge=(()=>{class i extends zt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xe,this.createValidator=e=>He}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=P(i)))(r||i)}})()}static{this.\u0275dir=f({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Ae("required",r._enabled?"":null)},inputs:{required:"required"},features:[V([Zt]),g]})}}return i})();var Yt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=Y({})}}return i})(),oe=class extends A{constructor(t,e,n){super(ue(e),ce(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){st(this,!1,t),t.forEach((n,r)=>{rt(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function je(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var ct=(()=>{class i{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new i;return e.useNonNullable=!0,e}group(e,n=null){let r=this._reduceControls(e),s={};return je(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new q(r,s)}record(e,n=null){let r=this._reduceControls(e);return new se(r,n)}control(e,n,r){let s={};return this.useNonNullable?(je(n)?s=n:(s.validators=n,s.asyncValidators=r),new T(e,y(p({},s),{nonNullable:!0}))):new T(e,n,r)}array(e,n,r){let s=e.map(c=>this._createControl(c));return new oe(s,n,r)}_reduceControls(e){let n={};return Object.keys(e).forEach(r=>{n[r]=this._createControl(e[r])}),n}_createControl(e){if(e instanceof T)return e;if(e instanceof A)return e;if(Array.isArray(e)){let n=e[0],r=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(n,r,s)}else return this.control(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=De({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var dt=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:ut,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:ot,useValue:e.callSetDisabledState??de}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=X({type:i})}static{this.\u0275inj=Y({imports:[Yt]})}}return i})();var ht=[{name:"Camera A",color:"#f30000",characteristics:{minDistance:10,maxDistance:20,minLightLevel:100,maxLightLevel:800}},{name:"Camera B",color:"#33ff30",characteristics:{minDistance:30,maxDistance:50,minLightLevel:50,maxLightLevel:600}},{name:"Camera C",color:"#bd9800",characteristics:{minDistance:2,maxDistance:20,minLightLevel:200,maxLightLevel:1e3}}];function Jt(i,t){if(i&1){let e=Fe();a(0,"div",23)(1,"h4"),l(2),a(3,"button",24),v("click",function(){let r=be(e).index,s=k();return Me(s.removeCamera(r))}),l(4,"Remove"),o()(),a(5,"div"),l(6),o(),a(7,"div",25),h(8,"div",26)(9,"div",27),o(),a(10,"div"),l(11),o(),a(12,"div",25),h(13,"div",26)(14,"div",27),o()()}if(i&2){let e=t.$implicit,n=k();d(2),te("",e.name," "),d(4),ie("Distance: ",e.characteristics.minDistance," - ",e.characteristics.maxDistance,""),d(2),x("background",e.color)("left",n.getLeft(e.characteristics.minDistance,n.minDistance,n.maxDistance),"%")("width",n.getWidth(e.characteristics.minDistance,e.characteristics.maxDistance,n.minDistance,n.maxDistance),"%"),d(),x("left",n.getLeft(n.requirementsForm.value.minDistance,n.minDistance,n.maxDistance),"%")("width",n.getWidth(n.requirementsForm.value.minDistance,n.requirementsForm.value.maxDistance,n.minDistance,n.maxDistance),"%"),d(2),ie("Light: ",e.characteristics.minLightLevel," - ",e.characteristics.maxLightLevel,""),d(2),x("background",e.color)("left",n.getLeft(e.characteristics.minLightLevel,n.minLightLevel,n.maxLightLevel),"%")("width",n.getWidth(e.characteristics.minLightLevel,e.characteristics.maxLightLevel,n.minLightLevel,n.maxLightLevel),"%"),d(),x("left",n.getLeft(n.requirementsForm.value.minLightLevel,n.minLightLevel,n.maxLightLevel),"%")("width",n.getWidth(n.requirementsForm.value.minLightLevel,n.requirementsForm.value.maxLightLevel,n.minLightLevel,n.maxLightLevel),"%")}}function Kt(i,t){if(i&1&&(a(0,"p"),l(1),o()),i&2){let e=k();d(),te("Can a set of cameras cover the requirements? ",e.result?"Yes":"No","")}}var Ei=(()=>{class i{constructor(e){this.fb=e,this.cameras=ht,this.result=null,this.minDistance=0,this.maxDistance=100,this.minLightLevel=0,this.maxLightLevel=100,this._destroy$=new ve,this.cameraForm=this.fb.group({name:["",m.required],color:["",m.required],minDistance:[0,m.required],maxDistance:[0,m.required],minLightLevel:[0,m.required],maxLightLevel:[0,m.required]}),this.requirementsForm=this.fb.group({minDistance:[0,m.required],maxDistance:[0,m.required],minLightLevel:[0,m.required],maxLightLevel:[0,m.required]}),this.cameraForm.valueChanges.pipe(Z(this._destroy$)).subscribe(()=>this.updateMinMaxValues()),this.requirementsForm.valueChanges.pipe(Z(this._destroy$)).subscribe(()=>this.updateMinMaxValues()),this.updateMinMaxValues()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}addCamera(){if(!this.cameraForm.valid)return;let e=this.cameraForm.value;this.cameras.push({name:e.name,color:e.color,characteristics:{minDistance:e.minDistance,maxDistance:e.maxDistance,minLightLevel:e.minLightLevel,maxLightLevel:e.maxLightLevel}}),this.updateMinMaxValues(),this.cameraForm.reset()}removeCamera(e){this.cameras.splice(e,1),this.updateMinMaxValues()}updateMinMaxValues(){this.cameras.length>0?(this.minDistance=Math.min(...this.cameras.map(e=>e.characteristics.minDistance),this.requirementsForm.value.minDistance),this.maxDistance=Math.max(...this.cameras.map(e=>e.characteristics.maxDistance),this.requirementsForm.value.maxDistance),this.minLightLevel=Math.min(...this.cameras.map(e=>e.characteristics.minLightLevel),this.requirementsForm.value.minLightLevel),this.maxLightLevel=Math.max(...this.cameras.map(e=>e.characteristics.maxLightLevel),this.requirementsForm.value.maxLightLevel)):(this.minDistance=this.requirementsForm.value.minDistance,this.maxDistance=this.requirementsForm.value.maxDistance,this.minLightLevel=this.requirementsForm.value.minLightLevel,this.maxLightLevel=this.requirementsForm.value.maxLightLevel)}checkRequirements(){let e={minDistance:this.requirementsForm.value.minDistance,maxDistance:this.requirementsForm.value.maxDistance,minLightLevel:this.requirementsForm.value.minLightLevel,maxLightLevel:this.requirementsForm.value.maxLightLevel};this.updateMinMaxValues(),this.result=this.canCamerasCoverRequirements(e,this.cameras)}canCamerasCoverRequirements(e,n){return n.some(r=>{let{minDistance:s,maxDistance:c,minLightLevel:mt,maxLightLevel:ft}=r.characteristics;return s<=e.minDistance&&c>=e.maxDistance&&mt<=e.minLightLevel&&ft>=e.maxLightLevel})}getLeft(e,n,r){return(e-n)/(r-n)*100}getWidth(e,n,r,s){return(n-e)/(s-r)*100}static{this.\u0275fac=function(n){return new(n||i)(u(ct))}}static{this.\u0275cmp=Ve({type:i,selectors:[["app-camera-problem"]],standalone:!0,features:[Ee],decls:59,vars:4,consts:[[1,"container"],[1,"camera-list"],[3,"ngSubmit","formGroup"],["for","newName"],["formControlName","name","id","newName","required","","type","text"],["for","newColor"],["formControlName","color","id","newColor","type","color","value","#ff0000"],["for","minDistance"],["formControlName","minDistance","id","newMinDistance","required","","type","number"],["for","maxDistance"],["formControlName","maxDistance","id","newMaxDistance","required","","type","number"],["for","minLightLevel"],["formControlName","minLightLevel","id","newMinLightLevel","required","","type","number"],["for","maxLightLevel"],["formControlName","maxLightLevel","id","newMaxLightLevel","required","","type","number"],["type","submit"],["class","camera",4,"ngFor","ngForOf"],[1,"camera-check"],["formControlName","minDistance","id","minDistance","required","","type","number"],["formControlName","maxDistance","id","maxDistance","required","","type","number"],["formControlName","minLightLevel","id","minLightLevel","required","","type","number"],["formControlName","maxLightLevel","id","maxLightLevel","required","","type","number"],[4,"ngIf"],[1,"camera"],[3,"click"],[1,"full-range"],[1,"covered-section"],[1,"checked-section"]],template:function(n,r){n&1&&(a(0,"p"),l(1,"Suppose we want to construct a versatile software camera by combining many inflexible hardware cameras. Each hardware camera works well for a particular range of subject distances and for a particular range of light levels. The software camera will measure the light level and subject distance of each shot and choose an appropriate hardware camera to capture it. There are many hardware cameras on the market, and we are considering various proposals for which ones to include in our design. Write a function that takes the desired characteristics of the software camera (range of subject distances and range of light levels that it should support) and a list of hardware cameras with their respective characteristics, and tests whether that set of hardware cameras will suffice."),o(),a(2,"div",0)(3,"div",1)(4,"h2"),l(5,"Add hardware camera"),o(),a(6,"form",2),v("ngSubmit",function(){return r.addCamera()}),a(7,"div")(8,"label",3),l(9,"Camera name:"),o(),h(10,"input",4),o(),a(11,"div")(12,"label",5),l(13,"Color:"),o(),h(14,"input",6),o(),a(15,"div")(16,"label",7),l(17,"Min distance:"),o(),h(18,"input",8),o(),a(19,"div")(20,"label",9),l(21,"Max distance:"),o(),h(22,"input",10),o(),a(23,"div")(24,"label",11),l(25,"Min light level:"),o(),h(26,"input",12),o(),a(27,"div")(28,"label",13),l(29,"Max light level:"),o(),h(30,"input",14),o(),a(31,"button",15),l(32,"Add camera"),o()(),a(33,"h2"),l(34,"Hardware cameras:"),o(),Q(35,Jt,15,25,"div",16),o(),a(36,"div",17)(37,"h2"),l(38,"Check desired characteristics"),o(),a(39,"form",2),v("ngSubmit",function(){return r.checkRequirements()}),a(40,"div")(41,"label",7),l(42,"Min distance:"),o(),h(43,"input",18),o(),a(44,"div")(45,"label",9),l(46,"Max distance:"),o(),h(47,"input",19),o(),a(48,"div")(49,"label",11),l(50,"Min light level:"),o(),h(51,"input",20),o(),a(52,"div")(53,"label",13),l(54,"Max light level:"),o(),h(55,"input",21),o(),a(56,"button",15),l(57,"Check"),o()(),Q(58,Kt,2,1,"p",22),o()()),n&2&&(d(6),w("formGroup",r.cameraForm),d(29),w("ngForOf",r.cameras),d(4),w("formGroup",r.requirementsForm),d(19),w("ngIf",r.result!==null))},dependencies:[dt,lt,W,me,it,nt,ge,fe,pe,Se,Ie],styles:[".container[_ngcontent-%COMP%]{display:flex}.camera-check[_ngcontent-%COMP%], .camera-list[_ngcontent-%COMP%]{flex:1}.camera[_ngcontent-%COMP%]{border:1px solid grey;padding:0 10px}.full-range[_ngcontent-%COMP%]{width:100%;height:20px;background-color:#eee;position:relative;margin:5px 0;border:1px solid #ccc}.covered-section[_ngcontent-%COMP%]{height:100%;background-color:#add8e6;position:absolute;opacity:.5}.checked-section[_ngcontent-%COMP%]{height:100%;border:1px dashed black;position:absolute}"],changeDetection:0})}}return i})();export{Ei as CameraProblemPageComponent};
